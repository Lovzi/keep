端到端的数据同步

尝试了各种解决方案

1. 锁id做hash
2. 借鉴mysql 主从复制， 通过逻辑时钟（组id)
3. 单线程
4. Update 替换成insert 
   1. redis做缓存
   2. 内存做缓存
   3. 自增id做where
   
   



```

```



1. Insert  -> delete -> insert 

   

   ```
    type 		id  unq 
    insert    1   1
    delete    1   1
    insert    2   1
    -- 当出现以上情况时，数据可能会丢失
   ```

## 尝试解决方案

#### Update 

 	1. 存在唯一索引
 	  	1. 修改唯一索引，替换为replace
 	  	2. 不修改唯一索引，将唯一索引的条件带上

#### Delete 

1. 删除带上唯一索引

#### Insert

1. 



